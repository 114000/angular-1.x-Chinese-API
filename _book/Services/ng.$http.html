<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>ng.$http | </title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.4.3">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
        
        <link rel="stylesheet" href="../gitbook/plugins/gitbook-plugin-highlight/website.css">
        
    
    

        
    
    
    <link rel="next" href="../Services/ng.$locale.html" />
    
    
    <link rel="prev" href="../Services/ng.$controller.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="2.5" data-basepath=".." data-revision="Fri Oct 23 2015 12:29:55 GMT+0800 (CST)">
    

<div class="book-summary">
    <div class="book-search" role="search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <nav role="navigation">
        <ul class="summary">
            
            
            
            

            

            
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="desc.html">
            
                
                    <a href="../desc.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        总述
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2" data-path="Services/main.html">
            
                
                    <a href="../Services/main.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        服务篇
                    </a>
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="Services/ng.$anchorScroll.html">
            
                
                    <a href="../Services/ng.$anchorScroll.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        ng.$anchorScroll
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="Services/ng.$animate.html">
            
                
                    <a href="../Services/ng.$animate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        ng.$animate
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="Services/ng.$cacheFactory.html">
            
                
                    <a href="../Services/ng.$cacheFactory.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        ng.$cacheFactory
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="Services/ng.$controller.html">
            
                
                    <a href="../Services/ng.$controller.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        ng.$controller
                    </a>
            
            
        </li>
    
        <li class="chapter active" data-level="2.5" data-path="Services/ng.$http.html">
            
                
                    <a href="../Services/ng.$http.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        ng.$http
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="Services/ng.$locale.html">
            
                
                    <a href="../Services/ng.$locale.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        ng.$locale
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="Services/ng.$location.html">
            
                
                    <a href="../Services/ng.$location.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        ng.$location
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="Services/ng.$log.html">
            
                
                    <a href="../Services/ng.$log.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.8.</b>
                        
                        ng.$log
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="Services/ng.$parse.html">
            
                
                    <a href="../Services/ng.$parse.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.9.</b>
                        
                        ng.$parse
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="Services/ng.$q.html">
            
                
                    <a href="../Services/ng.$q.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.10.</b>
                        
                        ng.$q
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="Services/ng.$rootElement.html">
            
                
                    <a href="../Services/ng.$rootElement.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.11.</b>
                        
                        ng.$rootElement
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.12" data-path="Services/ng.$rootScope.html">
            
                
                    <a href="../Services/ng.$rootScope.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.12.</b>
                        
                        ng.$rootScope
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.13" data-path="Services/ng.$sce.html">
            
                
                    <a href="../Services/ng.$sce.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.13.</b>
                        
                        ng.$sce
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.14" data-path="Services/ng.$sceDelegate.html">
            
                
                    <a href="../Services/ng.$sceDelegate.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.14.</b>
                        
                        ng.$sceDelegate
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.15" data-path="Services/ng.$templateCache.html">
            
                
                    <a href="../Services/ng.$templateCache.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.15.</b>
                        
                        ng.$templateCache
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.16" data-path="Services/ng.$templateRequest.html">
            
                
                    <a href="../Services/ng.$templateRequest.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.16.</b>
                        
                        ng.$templateRequest
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.17" data-path="Services/ng.$timeout.html">
            
                
                    <a href="../Services/ng.$timeout.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.17.</b>
                        
                        ng.$timeout
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.18" data-path="Services/ng.$interval.html">
            
                
                    <a href="../Services/ng.$interval.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.18.</b>
                        
                        ng.$interval
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.19" data-path="Services/ng.$window.html">
            
                
                    <a href="../Services/ng.$window.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.19.</b>
                        
                        ng.$window
                    </a>
            
            
        </li>
    
        <li class="chapter " data-level="2.20" data-path="Services/ng.$document.html">
            
                
                    <a href="../Services/ng.$document.html">
                
                        <i class="fa fa-check"></i>
                        
                            <b>2.20.</b>
                        
                        ng.$document
                    </a>
            
            
        </li>
    

            </ul>
            
        </li>
    


            
            <li class="divider"></li>
            <li>
                <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                    Published with GitBook
                </a>
            </li>
            
        </ul>
    </nav>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header" role="navigation">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" ></a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1" role="main">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="-http">$http</h1>
<ul>
<li>$httpProvider</li>
<li>ng &#x6A21;&#x5757;&#x4E2D;&#x7684;&#x670D;&#x52A1;</li>
</ul>
<p><code>$http</code> &#x670D;&#x52A1;&#x662F;&#x4E00;&#x4E2A;Angular&#x5185;&#x7684;&#x6709;&#x52A9;&#x4E8E;&#x901A;&#x8FC7;&#x6D4F;&#x89C8;&#x5668;&#x7684; <code>XMLHttpRequest</code> &#x5BF9;&#x8C61;&#x6216; <code>JSONP</code> &#x7684;&#x65B9;&#x5F0F;&#x8FDE;&#x63A5;&#x8FDC;&#x7A0B;
HTTP &#x670D;&#x52A1;&#x5668;&#x6838;&#x5FC3;&#x670D;&#x52A1;&#x3002;</p>
<p>&#x5BF9;&#x4F7F;&#x7528; <code>$http</code> &#x670D;&#x52A1;&#x7684;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x7684;&#x5E94;&#x7528;&#xFF0C;&#x8BF7;&#x53C2;&#x89C1; <a href="https://code.angularjs.org/1.4.3/docs/api/ngMock/service/$httpBackend" target="_blank"><code>$httpBackend</code></a> &#x6D4B;&#x8BD5;</p>
<p>&#x5BF9;&#x4E8E;&#x66F4;&#x9AD8;&#x7EA7;&#x522B;&#x7684;&#x62BD;&#x8C61;&#x5316;&#xFF0C;&#x8BF7;&#x67E5;&#x770B;<a href="https://code.angularjs.org/1.4.3/docs/api/ngResource/service/$resource" target="_blank"><code>$resource</code></a>&#x670D;&#x52A1;</p>
<p><code>$http</code>&#x7684; API &#x662F;&#x57FA;&#x4E8E; <code>$q</code> &#x670D;&#x52A1;&#x5BFC;&#x51FA;&#x7684; <code>deferred/promise</code> API.</p>
<p>&#x867D;&#x7136;&#x7B80;&#x5355;&#x7684;&#x7528;&#x6CD5;&#x683C;&#x5F0F;&#x4E0E;&#x6B64;&#x6CA1;&#x6709;&#x591A;&#x5927;&#x5173;&#x7CFB;&#xFF0C;&#x4F46;&#x662F;&#x5BF9;&#x4E8E;&#x66F4;&#x4E3A;&#x9AD8;&#x7EA7;&#x7684;&#x7528;&#x6CD5;&#x5B83;&#x4F7F;&#x975E;&#x5E38;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x5B83;&#x6240;&#x63D0;&#x4F9B;&#x7684;&#x8FD9;&#x4E9B; API
&#x548C;&#x4FDD;&#x969C;&#x4F1A;&#x4F7F;&#x4F60;&#x66F4;&#x4E3A;&#x719F;&#x6089;&#x4F60;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x4EE3;&#x7801;&#x3002;</p>
<h2 id="%E4%B8%80%E8%88%AC%E7%94%A8%E6%B3%95">&#x4E00;&#x822C;&#x7528;&#x6CD5;</h2>
<p><code>$http</code> &#x670D;&#x52A1;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x5B83;&#x9700;&#x8981;&#x5355;&#x4E00;&#x7684;&#x4E00;&#x4E2A;&#x53C2;&#x6570; - &#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x5BF9;&#x8C61; - &#x5B83;&#x88AB;&#x7528;&#x6765;&#x751F;&#x6210;&#x4E00;&#x4E2A; HTTP &#x8BF7;&#x6C42;&#x5E76;&#x8FD4;
&#x56DE;&#x4E00;&#x4E2A; &#x62E5;&#x6709;&#x4E24;&#x4E2A;&#x5177;&#x4F53;&#x65B9;&#x6CD5;&#x7684; <code>promise</code>&#xFF1A;<code>success</code> &#x548C; <code>error</code></p>
<pre><code class="lang-javascript">
<span class="hljs-comment">// &#x7B80;&#x5355;&#x7684; GET &#x8BF7;&#x6C42;&#x793A;&#x4F8B;:</span>
$http.get(<span class="hljs-string">&apos;/someUrl&apos;</span>).
  success(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data, status, headers, config</span>) </span>{
    <span class="hljs-comment">// &#x5F53;&#x54CD;&#x5E94;&#x6210;&#x529F;&#x4E86;</span>
    <span class="hljs-comment">// &#x8FD9;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4F1A;&#x88AB;&#x5F02;&#x6B65;&#x8C03;&#x7528;</span>
  }).
  error(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data, status, headers, config</span>) </span>{
    <span class="hljs-comment">// &#x5982;&#x679C;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x6216;&#x5219;&#x76F8;&#x5E94;&#x8FD4;&#x56DE;&#x4E86;&#x9519;&#x8BEF;&#x7684;&#x72B6;&#x6001;&#x5417;</span>
    <span class="hljs-comment">// &#x8FD9;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4F1A;&#x88AB;&#x5F02;&#x6B65;&#x8C03;&#x7528;</span>
  });
</code></pre>
<pre><code class="lang-javascript">
<span class="hljs-comment">// &#x7B80;&#x5355;&#x7684; POST &#x8BF7;&#x6C42;&#x793A;&#x4F8B; (passing data) :</span>
$http.post(<span class="hljs-string">&apos;/someUrl&apos;</span>, {msg:<span class="hljs-string">&apos;hello word!&apos;</span>}).
  success(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data, status, headers, config</span>) </span>{
    <span class="hljs-comment">// &#x5F53;&#x54CD;&#x5E94;&#x6210;&#x529F;&#x4E86;</span>
    <span class="hljs-comment">// &#x8FD9;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4F1A;&#x88AB;&#x5F02;&#x6B65;&#x8C03;&#x7528;</span>
  }).
  error(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data, status, headers, config</span>) </span>{
    <span class="hljs-comment">// &#x5982;&#x679C;&#x53D1;&#x751F;&#x9519;&#x8BEF;&#x6216;&#x5219;&#x76F8;&#x5E94;&#x8FD4;&#x56DE;&#x4E86;&#x9519;&#x8BEF;&#x7684;&#x72B6;&#x6001;&#x5417;</span>
    <span class="hljs-comment">// &#x8FD9;&#x4E2A;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4F1A;&#x88AB;&#x5F02;&#x6B65;&#x8C03;&#x7528;</span>
  });
</code></pre>
<p>&#x7531;&#x4E8E;&#x8C03;&#x7528; <code>$http</code> &#x51FD;&#x6570;&#x7684;&#x8FD4;&#x56DE;&#x503C;&#x662F;&#x4E00;&#x4E2A; <code>promise</code>&#xFF0C;&#x56E0;&#x6B64;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>then</code>&#x65B9;&#x6CD5;&#x6CE8;&#x518C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x4E14;&#x8FD9;&#x4E9B;&#x56DE;&#x8C03;&#x51FD;&#x6570;
&#x5C06;&#x4F1A;&#x63A5;&#x6536;&#x552F;&#x4E00;&#x7684;&#x53C2;&#x6570; - &#x8BF7;&#x6C42;&#x8FD4;&#x56DE;&#x7684;&#x54CD;&#x5E94;&#x5BF9;&#x8C61;&#x3002;&#x8BF7;&#x67E5;&#x770B;&#x4E0B;&#x65B9;&#x5173;&#x4E8E; API &#x548C;&#x683C;&#x5F0F;&#x4FE1;&#x606F;&#x7684;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x3002;</p>
<p>&#x54CD;&#x5E94;&#x72B6;&#x6001;&#x7801;&#x5728; 200 - 299 &#x4E4B;&#x95F4;&#x4F1A;&#x88AB;&#x8BA4;&#x5B9A;&#x4E3A;&#x6210;&#x529F;&#x7684;&#x72B6;&#x6001;&#xFF0C;&#x5E76;&#x5728;&#x6210;&#x529F;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x88AB;&#x8C03;&#x7528;&#x65F6;&#x5C06;&#x8FD4;&#x56DE;&#x7684;&#x7ED3;&#x679C;&#x4F20;&#x9012;&#x7ED9;&#x5B83;&#x3002;&#x6CE8;&#x610F;&#xFF0C;
&#x5982;&#x679C;&#x54CD;&#x5E94;&#x662F;&#x4E00;&#x4E2A;&#x91CD;&#x5B9A;&#x5411;&#xFF0C;<code>XMLHttpRequest</code> &#x4F9D;&#x65E7;&#x4F1A;&#x6267;&#x884C;&#xFF0C;&#x610F;&#x601D;&#x662F; error &#x56DE;&#x8C03;&#x4E0D;&#x4F1A;&#x88AB;&#x54CD;&#x5E94;&#x8C03;&#x7528;&#x3002;</p>
<h2 id="%E4%BD%BF%E7%94%A8-http-%E7%BC%96%E5%86%99%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95">&#x4F7F;&#x7528; <code>$http</code> &#x7F16;&#x5199;&#x5355;&#x5143;&#x6D4B;&#x8BD5;</h2>
<pre><code class="lang-javascript">
$httpBackend.expectGET(...);
$http.get(...);
$httpBackend.flush();
</code></pre>
<h2 id="%E7%AE%80%E5%86%99%E6%96%B9%E6%B3%95">&#x7B80;&#x5199;&#x65B9;&#x6CD5;</h2>
<p>&#x7B80;&#x5199;&#x65B9;&#x6CD5;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x7B80;&#x5199;&#x65B9;&#x6CD5;&#x90FD;&#x9700;&#x8981;&#x4F20;&#x5165; URL&#xFF0C;&#x5E76;&#x4E14;&#x9700;&#x8981;&#x4E3A; <code>POST/PUT</code> &#x8BF7;&#x6C42;&#x4F20;&#x5165;&#x8BF7;&#x6C42;&#x6570;&#x636E;&#x3002;</p>
<pre><code class="lang-javascript">
$http.get(<span class="hljs-string">&apos;/someUrl&apos;</span>).success(successCallback);
$http.post(<span class="hljs-string">&apos;/someUrl&apos;</span>, data).success(successCallback);
</code></pre>
<p>&#x7B80;&#x5199;&#x65B9;&#x6CD5;&#x7684;&#x5B8C;&#x6574;&#x5217;&#x8868;:</p>
<ul>
<li><code>$http.get</code></li>
<li><code>$http.head</code></li>
<li><code>$http.post</code></li>
<li><code>$http.put</code></li>
<li><code>$http.delete</code></li>
<li><code>$http.jsonp</code></li>
<li><code>$http.patch</code></li>
</ul>
<h2 id="%E8%AE%BE%E7%BD%AE-http-%E5%A4%B4%E9%83%A8%E4%BF%A1%E6%81%AF">&#x8BBE;&#x7F6E; HTTP &#x5934;&#x90E8;&#x4FE1;&#x606F;</h2>
<p><code>$http</code> &#x670D;&#x52A1;&#x4F1A;&#x81EA;&#x52A8;&#x4E3A;&#x6240;&#x6709;&#x7684;&#x8BF7;&#x6C42;&#x6DFB;&#x52A0;&#x786E;&#x5B9A;&#x7684; HTTP &#x5934;&#x3002;&#x8FD9;&#x4E9B;&#x9ED8;&#x8BA4;&#x7684;&#x8BBE;&#x7F6E;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>$httpProvider.defaults.headers</code>
&#x7EC4;&#x6001;&#x5BF9;&#x8C61;&#x6765;&#x5B8C;&#x5168;&#x91CD;&#x7F6E;&#x3002;&#x5305;&#x542B;&#x7740;&#x4E00;&#x4E0B;&#x7684;&#x7EC4;&#x6001;&#xFF1A;</p>
<ul>
<li><code>$httpProvider.defaults.headers.common</code> (&#x6240;&#x6709;&#x8BF7;&#x6C42;&#x516C;&#x7528;&#x7684;&#x5934;&#x90E8;):<ul>
<li><code>Accept: application/json, text/plain, * / *</code></li>
</ul>
</li>
<li><code>$httpProvider.defaults.headers.post</code>: (POST &#x8BF7;&#x6C42;&#x7684;&#x9ED8;&#x8BA4;&#x5934;&#x90E8;)<ul>
<li><code>Content-Type: application/json</code></li>
</ul>
</li>
<li><code>$httpProvider.defaults.headers.put</code> (PUT &#x8BF7;&#x6C42;&#x7684;&#x5934;&#x90E8;)<ul>
<li><code>Content-Type: application/json</code></li>
</ul>
</li>
</ul>
<p>&#x6DFB;&#x52A0;&#x6216;&#x8005;&#x8986;&#x76D6;&#x8FD9;&#x4E9B;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#xFF0C;&#x53EA;&#x9700;&#x4ECE;&#x7EC4;&#x6001;&#x5BF9;&#x8C61;&#x4E2D;&#x6DFB;&#x52A0;&#x6216;&#x8005;&#x5220;&#x9664;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x5373;&#x53EF;&#x3002;&#x4E3A;&#x9664;&#x4E86; POST &#x6216; PUT &#x7684; HTTP &#x65B9;&#x6CD5;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5934;&#x90E8;&#xFF0C;
&#x5219;&#x53EA;&#x9700;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x4EE5;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x540D;&#x5B57;&#x7684;&#x5C0F;&#x5199;&#x5F62;&#x5F0F;&#x4F5C;&#x4E3A; key &#x7684;&#x65B0;&#x7684;&#x5BF9;&#x8C61;&#x5373;&#x53EF;&#x3002;&#x4F8B;&#x5982; <code>$httpProvider.defaults.headers.get = { &apos;My-Header&apos; : &apos;value&apos; }</code>.</p>
<p>&#x8FD9;&#x4E9B;&#x9ED8;&#x8BA4;&#x7684;&#x8BBE;&#x7F6E;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>$http.default</code> &#x5BF9;&#x8C61;&#x5B9E;&#x73B0;&#x6539;&#x53D8;&#xFF0C;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-built_in">module</span>.run(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$http</span>) </span>{
  $http.defaults.headers.common.Authorization = <span class="hljs-string">&apos;Basic YmVlcDpib29w&apos;</span>
})
</code></pre>
<p>&#x6B64;&#x5916;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728; <code>$http(config)</code> &#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#x5728;&#x4F20;&#x5165; <code>config</code> &#x5BF9;&#x8C61;&#x7684;&#x65F6;&#x5019;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A; <code>header</code> &#x5C5E;&#x6027;&#xFF0C;
&#x4EE5;&#x6B64;&#x6765;&#x8986;&#x76D6;&#x9ED8;&#x8BA4;&#x914D;&#x7F6E;&#x800C;&#x5E76;&#x4E0D;&#x7528;&#x5168;&#x5C40;&#x5730;&#x6539;&#x53D8;&#x4ED6;&#x4EEC;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x660E;&#x786E;&#x7684;&#x5220;&#x9664;&#x5728;&#x6BCF;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x7684;&#x901A;&#x8FC7; <code>$httpProvider.default.headers</code> &#x81EA;&#x52A8;&#x6DFB;&#x52A0;&#x7684;&#x5934;&#x90E8;&#xFF0C;&#x4F7F;&#x7528; <code>headers</code>
&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x8BBE;&#x7F6E;&#x9700;&#x8981;&#x7684;&#x5C5E;&#x6027;&#x4E3A; <code>undefined</code>&#x3002;&#x4F8B;&#x5982;&#xFF1A;</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> req = {
 method: <span class="hljs-string">&apos;POST&apos;</span>,
 url: <span class="hljs-string">&apos;http://example.com&apos;</span>,
 headers: {
   <span class="hljs-string">&apos;Content-Type&apos;</span>: <span class="hljs-literal">undefined</span>
 },
 data: { test: <span class="hljs-string">&apos;test&apos;</span> }
}

$http(req).success(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{...}).error(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{...});
</code></pre>
<h2 id="%E6%94%B9%E9%80%A0%E8%AF%B7%E6%B1%82%E5%92%8C%E5%93%8D%E5%BA%94">&#x6539;&#x9020;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;</h2>
<p>&#x8BF7;&#x6C42;&#x548C;&#x76F8;&#x5E94;&#x5747;&#x53EF;&#x4EE5;&#x88AB;&#x6539;&#x9020;&#x51FD;&#x6570;&#x6539;&#x9020;&#xFF1A;<code>transformRequest</code> &#x548C; <code>transformResponse</code>&#x3002;&#x8FD9;&#x4E24;&#x4E2A;&#x5C5E;&#x6027;&#x53EF;&#x4EE5;
&#x662F;&#x8FD4;&#x56DE;&#x6539;&#x9020;&#x503C;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684;&#x51FD;&#x6570; (<code>function(data, headersGetter, status)</code>)&#xFF0C;&#x6216;&#x8005;&#x662F;&#x4E00;&#x4E2A;&#x542B;&#x6709;&#x6539;&#x9020;
&#x51FD;&#x6570;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x5141;&#x8BB8;&#x4F60;&#x5411;&#x5176;&#x4E2D; <code>push</code> &#x6216; <code>unshift</code> &#x4E00;&#x4E2A;&#x65B0;&#x6539;&#x9020;&#x51FD;&#x6570;&#x5230;&#x4F60;&#x7684;&#x6539;&#x9020;&#x94FE;&#x4E2D;&#x3002;</p>
<h3 id="%E9%BB%98%E8%AE%A4%E7%9A%84%E6%94%B9%E9%80%A0">&#x9ED8;&#x8BA4;&#x7684;&#x6539;&#x9020;</h3>
<p><code>$httpProvider</code> &#x63D0;&#x4F9B;&#x5668;&#x548C; <code>$http</code> &#x670D;&#x52A1;&#x5BFC;&#x51FA;&#x4E86; <code>defaults.transformRequest</code> &#x548C; <code>defaults.transformResponse</code>
&#x5C5E;&#x6027;&#x3002;&#x5982;&#x679C;&#x4EE5;&#x4E2A;&#x8BF7;&#x6C42;&#x6CA1;&#x6709;&#x4E00;&#x5171;&#x5B83;&#x81EA;&#x5DF1;&#x7684;&#x6539;&#x9020;&#x90A3;&#x4E48;&#x4EE5;&#x4E0A;&#x7684;&#x5B9E;&#x884C;&#x5C06;&#x88AB;&#x5E94;&#x7528;&#x3002;</p>
<p>&#x4F60;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5411;&#x6570;&#x7EC4;&#x6DFB;&#x52A0;&#x6216;&#x66FF;&#x6362;&#x6539;&#x9020;&#x51FD;&#x6570;&#x6765;&#x4FEE;&#x6539;&#x8FD9;&#x4E9B;&#x5C5E;&#x6027;&#x4EE5;&#x6269;&#x5927;&#x6216;&#x8005;&#x53D6;&#x4EE3;&#x9ED8;&#x8BA4;&#x7684;&#x6539;&#x9020;&#x3002;</p>
<p>Angular &#x63D0;&#x4F9B;&#x4E86;&#x4EE5;&#x4E0B;&#x7684;&#x9ED8;&#x8BA4;&#x6539;&#x9020;&#x3002;</p>
<p>&#x8BF7;&#x6C42;&#x6539;&#x9020; (<code>$httpProvider.defaults.transformRequest</code> &#x548C; <code>$http.defaults.transformRequest</code>):</p>
<ul>
<li>&#x5982;&#x679C; <code>request</code> &#x7684;&#x7EC4;&#x6001;&#x5BF9;&#x8C61;&#x7684; data &#x5C5E;&#x6027;&#x4E2D;&#x5305;&#x542B;&#x5BF9;&#x8C61;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x5C06;&#x88AB; JSON &#x683C;&#x5F0F;&#x5316;&#x3002;</li>
</ul>
<p>&#x54CD;&#x5E94;&#x6539;&#x9020; (<code>$httpProvider.defaults.transformResponse</code> and <code>$http.defaults.transformResponse</code>):</p>
<ul>
<li>&#x5982;&#x679C;&#x68C0;&#x6D4B;&#x5230; <code>XSRF</code> &#x524D;&#x7F00;&#xFF0C;&#x5219;&#x8FC7;&#x6EE4;&#x6389;&#x5B83;(&#x8BF7;&#x770B;&#x4E0B;&#x9762;&#x7684; Security Considerations &#x90E8;&#x5206;)&#x3002;</li>
<li>&#x5982;&#x679C;&#x68C0;&#x6D4B;&#x5230; <code>JSON response</code> &#xFF0C;&#x5219;&#x4F7F;&#x7528; <code>JSON parser</code> &#x5C06;&#x5176;&#x53CD;&#x5E8F;&#x5217;&#x5316;&#x3002;</li>
</ul>
<h3 id="%E8%A6%86%E7%9B%96%E6%AF%8F%E4%B8%80%E4%B8%AA%E8%AF%B7%E6%B1%82%E7%9A%84%E9%BB%98%E8%AE%A4%E6%94%B9%E9%80%A0">&#x8986;&#x76D6;&#x6BCF;&#x4E00;&#x4E2A;&#x8BF7;&#x6C42;&#x7684;&#x9ED8;&#x8BA4;&#x6539;&#x9020;</h3>
<p>&#x5982;&#x679C;&#x4F60;&#x4EC5;&#x4EC5;&#x60F3;&#x8986;&#x76D6;&#x67D0;&#x4E00;&#x4E2A;&#x5355;&#x72EC;&#x7684; <code>request/response</code> &#x7684;&#x6539;&#x9020;&#xFF0C;&#x90A3;&#x4E48;&#x5C06;&#x5E26;&#x6709; <code>transformRequest</code> <code>transformResponse</code>
&#x7684;&#x5BF9;&#x8C61;&#x4F20;&#x5165; <code>$http</code> &#x4E2D;&#x5373;&#x53EF;&#x3002;</p>
<p>Note that if you provide these properties on the config object the default transformations will be overwritten. If you wish to augment the default transformations then you must include them in your local transformation array.</p>
<p>The following code demonstrates adding a new response transformation to be run after the default response transformations have been run.</p>
<pre><code class="lang-javascript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">appendTransform</span>(<span class="hljs-params">defaults, transform</span>) </span>{

  <span class="hljs-comment">// We can&apos;t guarantee that the default transformation is an array</span>
  defaults = angular.isArray(defaults) ? defaults : [defaults];

  <span class="hljs-comment">// Append the new transformation to the defaults</span>
  <span class="hljs-keyword">return</span> defaults.concat(transform);
}

$http({
  url: <span class="hljs-string">&apos;...&apos;</span>,
  method: <span class="hljs-string">&apos;GET&apos;</span>,
  transformResponse: appendTransform($http.defaults.transformResponse, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-keyword">return</span> doTransform(value);
  })
});
</code></pre>
<h2 id="caching">Caching</h2>
<p>To enable caching, set the request configuration <code>cache</code> property to <code>true</code> (to use default cache) or to a custom cache object (built with <code>$cacheFactory</code>). When the cache is enabled, $http stores the response from the server in the specified cache. The next time the same request is made, the response is served from the cache without sending a request to the server.</p>
<p>Note that even if the response is served from cache, delivery of the data is asynchronous in the same way that real requests are.</p>
<p>If there are multiple GET requests for the same URL that should be cached using the same cache, but the cache is not populated yet, only one request to the server will be made and the remaining requests will be fulfilled using the response from the first request.</p>
<p>You can change the default cache to a new object (built with <code>$cacheFactory</code>) by updating the <code>$http.defaults.cache</code> property. All requests who set their cache property to true will now use this cache object.</p>
<p>If you set the default cache to false then only requests that specify their own custom cache object will be cached.</p>
<h2 id="interceptors">Interceptors</h2>
<p>Before you start creating interceptors, be sure to understand the $q and deferred/promise APIs.</p>
<p>For purposes of global error handling, authentication, or any kind of synchronous or asynchronous pre-processing of request or postprocessing of responses, it is desirable to be able to intercept requests before they are handed to the server and responses before they are handed over to the application code that initiated these requests. The interceptors leverage the promise APIs to fulfill this need for both synchronous and asynchronous pre-processing.</p>
<p>The interceptors are service factories that are registered with the <code>$httpProvider</code> by adding them to the <code>$httpProvider.interceptors</code> array. The factory is called and injected with dependencies (if specified) and returns the interceptor.</p>
<p>There are two kinds of interceptors (and two kinds of rejection interceptors):</p>
<ul>
<li><code>request</code>: interceptors get called with a http <code>config</code> object. The function is free to modify the <code>config</code> object or create a new one. The function needs to return the <code>config</code> object directly, or a promise containing the <code>config</code> or a new <code>config</code> object.</li>
<li><code>requestError</code>: interceptor gets called when a previous interceptor threw an error or resolved with a rejection.</li>
<li><code>response</code>: interceptors get called with http <code>response</code> object. The function is free to modify the <code>response</code> object or create a new one. The function needs to return the <code>response</code> object directly, or as a promise containing the <code>response</code> or a new <code>response</code> object.</li>
<li><code>responseError</code>: interceptor gets called when a previous interceptor threw an error or resolved with a rejection.</li>
</ul>
<pre><code class="lang-javascript"><span class="hljs-comment">// register the interceptor as a service</span>
$provide.factory(<span class="hljs-string">&apos;myHttpInterceptor&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$q, dependency1, dependency2</span>) </span>{
  <span class="hljs-keyword">return</span> {
    <span class="hljs-comment">// optional method</span>
    <span class="hljs-string">&apos;request&apos;</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">config</span>) </span>{
      <span class="hljs-comment">// do something on success</span>
      <span class="hljs-keyword">return</span> config;
    },

    <span class="hljs-comment">// optional method</span>
   <span class="hljs-string">&apos;requestError&apos;</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rejection</span>) </span>{
      <span class="hljs-comment">// do something on error</span>
      <span class="hljs-keyword">if</span> (canRecover(rejection)) {
        <span class="hljs-keyword">return</span> responseOrNewPromise
      }
      <span class="hljs-keyword">return</span> $q.reject(rejection);
    },



    <span class="hljs-comment">// optional method</span>
    <span class="hljs-string">&apos;response&apos;</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
      <span class="hljs-comment">// do something on success</span>
      <span class="hljs-keyword">return</span> response;
    },

    <span class="hljs-comment">// optional method</span>
   <span class="hljs-string">&apos;responseError&apos;</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">rejection</span>) </span>{
      <span class="hljs-comment">// do something on error</span>
      <span class="hljs-keyword">if</span> (canRecover(rejection)) {
        <span class="hljs-keyword">return</span> responseOrNewPromise
      }
      <span class="hljs-keyword">return</span> $q.reject(rejection);
    }
  };
});

$httpProvider.interceptors.push(<span class="hljs-string">&apos;myHttpInterceptor&apos;</span>);


<span class="hljs-comment">// alternatively, register the interceptor via an anonymous factory</span>
$httpProvider.interceptors.push(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$q, dependency1, dependency2</span>) </span>{
  <span class="hljs-keyword">return</span> {
   <span class="hljs-string">&apos;request&apos;</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">config</span>) </span>{
       <span class="hljs-comment">// same as above</span>
    },

    <span class="hljs-string">&apos;response&apos;</span>: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>) </span>{
       <span class="hljs-comment">// same as above</span>
    }
  };
});
</code></pre>
<h2 id="security-considerations">Security Considerations</h2>
<p>When designing web applications, consider security threats from:</p>
<ul>
<li>JSON vulnerability</li>
<li>XSRF
Both server and the client must cooperate in order to eliminate these threats. Angular comes pre-configured with strategies that address these issues, but for this to work backend server cooperation is required.</li>
</ul>
<h3 id="json-vulnerability-protection">JSON Vulnerability Protection</h3>
<p>A JSON vulnerability allows third party website to turn your JSON resource URL into JSONP request under some conditions. To counter this your server can prefix all JSON requests with following string <code>&quot;)]}&apos;,\n&quot;</code>. Angular will automatically strip the prefix before processing it as JSON.</p>
<p>For example if your server needs to return:</p>
<pre><code class="lang-javascript">
[<span class="hljs-string">&apos;one&apos;</span>,<span class="hljs-string">&apos;two&apos;</span>]
</code></pre>
<p>which is vulnerable to attack, your server can return:</p>
<pre><code class="lang-javascript"><span class="hljs-string">&apos;&#x2026;&#x2026;)]}&apos;</span>,
[<span class="hljs-string">&apos;one&apos;</span>,<span class="hljs-string">&apos;two&apos;</span>]
</code></pre>
<p>Angular will strip the prefix, before processing the JSON.</p>
<h3 id="cross-site-request-forgery-xsrf-protection">Cross Site Request Forgery (XSRF) Protection</h3>
<p>XSRF is a technique by which an unauthorized site can gain your user&apos;s private data. Angular provides a mechanism to counter XSRF. When performing XHR requests, the $http service reads a token from a cookie (by default, XSRF-TOKEN) and sets it as an HTTP header (X-XSRF-TOKEN). Since only JavaScript that runs on your domain could read the cookie, your server can be assured that the XHR came from JavaScript running on your domain. The header will not be set for cross-domain requests.</p>
<p>To take advantage of this, your server needs to set a token in a JavaScript readable session cookie called XSRF-TOKEN on the first HTTP GET request. On subsequent XHR requests the server can verify that the cookie matches X-XSRF-TOKEN HTTP header, and therefore be sure that only JavaScript running on your domain could have sent the request. The token must be unique for each user and must be verifiable by the server (to prevent the JavaScript from making up its own tokens). We recommend that the token is a digest of your site&apos;s authentication cookie with a salt for added security.</p>
<p>The name of the headers can be specified using the xsrfHeaderName and xsrfCookieName properties of either $httpProvider.defaults at config-time, $http.defaults at run-time, or the per-request config object.</p>
<p>In order to prevent collisions in environments where multiple Angular apps share the same domain or subdomain, we recommend that each application uses unique cookie name.</p>
<h2 id="%E4%BE%9D%E8%B5%96">&#x4F9D;&#x8D56;</h2>
<p><code>$httpBackend</code>
<code>$cacheFactory</code>
<code>$rootScope</code>
<code>$q</code>
<code>$injector</code></p>
<h2 id="%E7%94%A8%E6%B3%95">&#x7528;&#x6CD5;</h2>
<p><code>$http(config)</code></p>
<p><strong>&#x53C2;&#x6570;</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x53C2;&#x6570;</th>
<th style="text-align:center">&#x5F62;&#x5F0F;</th>
<th style="text-align:left">&#x8BE6;&#x7EC6;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">config</td>
<td style="text-align:center"><code>object</code></td>
</tr>
</tbody>
</table>
<p>Object describing the request to be made and how it should be processed. &#x8BE5;&#x5BF9;&#x8C61;&#x6709;&#x4EE5;&#x4E0B;&#x5C5E;&#x6027;:</p>
<ul>
<li><strong>method</strong> &#x2013; <code>{string}</code> &#x2013; HTTP &#x65B9;&#x6CD5; (&#x5982;. &apos;GET&apos;, &apos;POST&apos;, &#x7B49;)</li>
<li><strong>url</strong> &#x2013; <code>{string}</code> &#x2013; &#x9700;&#x8981;&#x8BF7;&#x6C42;&#x7684;&#x8D44;&#x6E90;&#x7684;&#x7EDD;&#x5BF9;&#x6216;&#x76F8;&#x5BF9; URL</li>
<li><strong>params</strong> &#x2013; <code>{Object.&lt;string|Object&gt;}</code> &#x2013; &#x5B83;&#x4F1A;&#x88AB; <code>paramSerializer</code>
&#x5E8F;&#x5217;&#x5316;&#x5B57;&#x7B26;&#x4E32;&#x6216;&#x5BF9;&#x8C61;&#x7684; <code>map</code> &#x5F62;&#x5F0F;&#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x5230; GET &#x53C2;&#x6570;&#x4E2D;&#x3002;</li>
<li><strong>data</strong> &#x2013; <code>{string|Object}</code> &#x2013; &#x5C06;&#x88AB;&#x5F53;&#x505A;&#x8BF7;&#x6C42;&#x7684;&#x6570;&#x636E;&#x88AB;&#x53D1;&#x9001;&#x3002;</li>
<li><p><strong>headers</strong> &#x2013; <code>{Object}</code> &#x2013; &#x5B57;&#x7B26;&#x4E32;&#x6216;&#x51FD;&#x6570;&#x7684; <code>map</code> &#x5F62;&#x5F0F; &#x4EE3;&#x8868; HTTP &#x5934;</p>
<p>Map of strings or functions which return strings representing HTTP headers to send to the server. If the return value of a function is null, the header will not be sent. Functions accept a config object as an argument.</p>
</li>
<li><strong>xsrfHeaderName</strong> &#x2013; <code>{string}</code> &#x2013; HTTP &#x5934;&#x90E8;&#x540D; Name of HTTP header to populate with the XSRF token.</li>
<li><strong>xsrfCookieName</strong> &#x2013; <code>{string}</code> &#x2013; Name of cookie containing the XSRF token.</li>
<li><strong>transformRequest</strong> &#x2013; <code>{function(data, headersGetter)|Array.&lt;function(data, headersGetter)&gt;}</code> &#x2013; transform function or an array of such functions. The transform function takes the http request body and headers and returns its transformed (typically serialized) version. See Overriding the Default Transformations</li>
<li><strong>transformResponse</strong> &#x2013; <code>{function(data, headersGetter, status)|Array.&lt;function(data, headersGetter, status)&gt;}</code> &#x2013; transform function or an array of such functions. The transform function takes the http response body, headers and status and returns its transformed (typically deserialized) version. See Overriding the Default TransformationjqLiks</li>
<li><strong>paramSerializer</strong> - <code>{string|function(Object&lt;string,string&gt;):string}</code> - A function used to prepare the string representation of request parameters (specified as an object). If specified as string, it is interpreted as function registered with the $injector, which means you can create your own serializer by registering it as a service. The default serializer is the $httpParamSerializer; alternatively, you can use the $httpParamSerializerJQLike</li>
<li><strong>cache</strong> &#x2013; <code>{boolean|Cache}</code> &#x2013; If true, a default $http cache will be used to cache the GET request, otherwise if a cache instance built with $cacheFactory, this cache will be used for caching.</li>
<li><strong>timeout</strong> &#x2013; <code>{number|Promise}</code> &#x2013; &#x8BBE;&#x7F6E;&#x6BEB;&#x79D2;&#x5EF6;&#x65F6;&#xFF0C;
timeout in milliseconds, or promise that should abort the request when resolved.</li>
<li><strong>withCredentials</strong> - <code>{boolean}</code> - &#x662F;&#x5426;&#x5728; XHR &#x5BF9;&#x8C61;&#x4E0A;&#x8BBE;&#x7F6E; <code>withCredentials</code>&#x3002;
&#x8BF7;&#x770B;<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Access_control_CORS#Requests_with_credentials" target="_blank">&#x4F7F;&#x7528;&#x8BC1;&#x4E66;&#x7684;&#x8BF7;&#x6C42;</a> &#x4EE5;&#x83B7;&#x53D6;&#x66F4;&#x591A;&#x4FE1;&#x606F;&#x3002;</li>
<li><strong>responseType</strong> - <code>{string}</code> - &#x8BF7;&#x770B; <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest#xmlhttprequest-responsetype" target="_blank">XMLHttpRequest.responseType</a>.
|</li>
</ul>
<p><strong>&#x8FD4;&#x56DE;</strong></p>
<p><code>HttpPromise</code> - Returns a promise object with the standard then method and two http specific methods: success and error. The then method takes two arguments a success and an error callback which will be called with a response object. The success and error methods take a single argument - a function that will be called when the request succeeds or fails respectively. The arguments passed into these functions are destructured representation of the response object passed into the then method. The response object has these properties:</p>
<ul>
<li><strong>data</strong> &#x2013; <code>{string|Object}</code> &#x2013; The response body transformed with the transform functions.</li>
<li><strong>status</strong> &#x2013; <code>{number}</code> &#x2013; HTTP status code of the response.</li>
<li><strong>headers</strong> &#x2013; <code>{function([headerName])}</code> &#x2013; Header getter function.</li>
<li><strong>config</strong> &#x2013; <code>{Object}</code> &#x2013; The configuration object that was used to generate the request.</li>
<li><strong>statusText</strong> &#x2013; <code>{string}</code> &#x2013; HTTP status text of the response.</li>
</ul>
<h2 id="%E6%96%B9%E6%B3%95">&#x65B9;&#x6CD5;</h2>
<h3 id="1-get-url-config">1.<code>get(url, [config])</code></h3>
<p>&#x6267;&#x884C; <code>GET</code> &#x8BF7;&#x6C42;&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x6CD5;&#x3002;</p>
<p><strong>&#x53C2;&#x6570;</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x53C2;&#x6570;</th>
<th style="text-align:center">&#x5F62;&#x5F0F;</th>
<th style="text-align:left">&#x8BE6;&#x7EC6;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">url</td>
<td style="text-align:center"><code>string</code></td>
<td style="text-align:left">&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x76EE;&#x7684;&#x5730;&#x7684;&#x76F8;&#x5BF9;&#x6216;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">config <em>&#xFF08;&#x53EF;&#x9009;&#xFF09;</em></td>
<td style="text-align:center"><code>Object</code></td>
<td style="text-align:left">&#x53EF;&#x9009;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;</td>
</tr>
</tbody>
</table>
<p><strong>&#x8FD4;&#x56DE;</strong></p>
<p><code>HttpPromise</code> - <code>promise</code></p>
<h3 id="2-delete-url-config">2.<code>delete(url, [config])</code></h3>
<p>&#x6267;&#x884C; <code>DELETE</code> &#x8BF7;&#x6C42;&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x6CD5;&#x3002;</p>
<p><strong>&#x53C2;&#x6570;</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x53C2;&#x6570;</th>
<th style="text-align:center">&#x5F62;&#x5F0F;</th>
<th style="text-align:left">&#x8BE6;&#x7EC6;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">url</td>
<td style="text-align:center"><code>string</code></td>
<td style="text-align:left">&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x76EE;&#x7684;&#x5730;&#x7684;&#x76F8;&#x5BF9;&#x6216;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">config <em>&#xFF08;&#x53EF;&#x9009;&#xFF09;</em></td>
<td style="text-align:center"><code>Object</code></td>
<td style="text-align:left">&#x53EF;&#x9009;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;</td>
</tr>
</tbody>
</table>
<p><strong>&#x8FD4;&#x56DE;</strong></p>
<p><code>HttpPromise</code> - <code>promise</code></p>
<h3 id="3-head-url-config">3.<code>head(url, [config])</code></h3>
<p>&#x6267;&#x884C; <code>HEAD</code> &#x8BF7;&#x6C42;&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x6CD5;&#x3002;</p>
<p><strong>&#x53C2;&#x6570;</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x53C2;&#x6570;</th>
<th style="text-align:center">&#x5F62;&#x5F0F;</th>
<th style="text-align:left">&#x8BE6;&#x7EC6;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">url</td>
<td style="text-align:center"><code>string</code></td>
<td style="text-align:left">&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x76EE;&#x7684;&#x5730;&#x7684;&#x76F8;&#x5BF9;&#x6216;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">config <em>&#xFF08;&#x53EF;&#x9009;&#xFF09;</em></td>
<td style="text-align:center"><code>Object</code></td>
<td style="text-align:left">&#x53EF;&#x9009;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;</td>
</tr>
</tbody>
</table>
<p><strong>&#x8FD4;&#x56DE;</strong></p>
<p><code>HttpPromise</code> - <code>promise</code></p>
<h3 id="4-jsonp-url-config">4.<code>jsonp(url, [config])</code></h3>
<p>&#x6267;&#x884C; <code>JSONP</code> &#x8BF7;&#x6C42;&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x6CD5;&#x3002;</p>
<p><strong>&#x53C2;&#x6570;</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x53C2;&#x6570;</th>
<th style="text-align:center">&#x5F62;&#x5F0F;</th>
<th style="text-align:left">&#x8BE6;&#x7EC6;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">url</td>
<td style="text-align:center"><code>string</code></td>
<td style="text-align:left">&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x76EE;&#x7684;&#x5730;&#x7684;&#x76F8;&#x5BF9;&#x6216;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x7684;&#x540D;&#x5B57;&#x5FC5;&#x987B;&#x662F;&#x5B57;&#x7B26;&#x4E32; <code>JSON_CALLBACK</code></td>
</tr>
<tr>
<td style="text-align:left">config <em>&#xFF08;&#x53EF;&#x9009;&#xFF09;</em></td>
<td style="text-align:center"><code>Object</code></td>
<td style="text-align:left">&#x53EF;&#x9009;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;</td>
</tr>
</tbody>
</table>
<p><strong>&#x8FD4;&#x56DE;</strong></p>
<p><code>HttpPromise</code> - <code>promise</code></p>
<h3 id="5-post-url-data-config">5.<code>post(url, data, [config])</code></h3>
<p>&#x6267;&#x884C; <code>POST</code> &#x8BF7;&#x6C42;&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x6CD5;&#x3002;</p>
<p><strong>&#x53C2;&#x6570;</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x53C2;&#x6570;</th>
<th style="text-align:center">&#x5F62;&#x5F0F;</th>
<th style="text-align:left">&#x8BE6;&#x7EC6;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">url</td>
<td style="text-align:center"><code>string</code></td>
<td style="text-align:left">&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x76EE;&#x7684;&#x5730;&#x7684;&#x76F8;&#x5BF9;&#x6216;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">data</td>
<td style="text-align:center"><code>*</code></td>
<td style="text-align:left">&#x8BF7;&#x6C42;&#x5185;&#x5BB9;</td>
</tr>
<tr>
<td style="text-align:left">config <em>&#xFF08;&#x53EF;&#x9009;&#xFF09;</em></td>
<td style="text-align:center"><code>Object</code></td>
<td style="text-align:left">&#x53EF;&#x9009;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;</td>
</tr>
</tbody>
</table>
<p><strong>&#x8FD4;&#x56DE;</strong></p>
<p><code>HttpPromise</code> - <code>promise</code></p>
<h3 id="6-put-url-data-config">6.<code>put(url, data, [config])</code></h3>
<p>&#x6267;&#x884C; <code>PUT</code> &#x8BF7;&#x6C42;&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x6CD5;&#x3002;</p>
<p><strong>&#x53C2;&#x6570;</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x53C2;&#x6570;</th>
<th style="text-align:center">&#x5F62;&#x5F0F;</th>
<th style="text-align:left">&#x8BE6;&#x7EC6;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">url</td>
<td style="text-align:center"><code>string</code></td>
<td style="text-align:left">&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x76EE;&#x7684;&#x5730;&#x7684;&#x76F8;&#x5BF9;&#x6216;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">data</td>
<td style="text-align:center"><code>*</code></td>
<td style="text-align:left">&#x8BF7;&#x6C42;&#x5185;&#x5BB9;</td>
</tr>
<tr>
<td style="text-align:left">config <em>&#xFF08;&#x53EF;&#x9009;&#xFF09;</em></td>
<td style="text-align:center"><code>Object</code></td>
<td style="text-align:left">&#x53EF;&#x9009;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;</td>
</tr>
</tbody>
</table>
<p><strong>&#x8FD4;&#x56DE;</strong></p>
<p><code>HttpPromise</code> - <code>promise</code></p>
<h3 id="7-patch-url-data-config">7.<code>patch(url, data, [config])</code></h3>
<p>&#x6267;&#x884C; <code>PATCH</code> &#x8BF7;&#x6C42;&#x7684;&#x5FEB;&#x6377;&#x65B9;&#x6CD5;&#x3002;</p>
<p><strong>&#x53C2;&#x6570;</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x53C2;&#x6570;</th>
<th style="text-align:center">&#x5F62;&#x5F0F;</th>
<th style="text-align:left">&#x8BE6;&#x7EC6;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">url</td>
<td style="text-align:center"><code>string</code></td>
<td style="text-align:left">&#x6307;&#x5B9A;&#x8BF7;&#x6C42;&#x76EE;&#x7684;&#x5730;&#x7684;&#x76F8;&#x5BF9;&#x6216;&#x7EDD;&#x5BF9;&#x8DEF;&#x5F84;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left">data</td>
<td style="text-align:center"><code>*</code></td>
<td style="text-align:left">&#x8BF7;&#x6C42;&#x5185;&#x5BB9;</td>
</tr>
<tr>
<td style="text-align:left">config <em>&#xFF08;&#x53EF;&#x9009;&#xFF09;</em></td>
<td style="text-align:center"><code>Object</code></td>
<td style="text-align:left">&#x53EF;&#x9009;&#x7684;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;</td>
</tr>
</tbody>
</table>
<p><strong>&#x8FD4;&#x56DE;</strong></p>
<p><code>HttpPromise</code> - <code>promise</code></p>
<h2 id="%E5%B1%9E%E6%80%A7">&#x5C5E;&#x6027;</h2>
<h3 id="1-pendingrequests">1.<code>pendingRequests</code></h3>
<p><code>Array.&lt;Object&gt;</code> -     &#x914D;&#x7F6E;&#x5BF9;&#x8C61;&#x7684;&#x5F53;&#x524D;&#x5F85;&#x5904;&#x7406;&#x8BF7;&#x6C42;&#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x5B83;&#x7684;&#x4E3B;&#x8981;&#x4F5C;&#x7528;&#x662F;&#x4E3A;&#x4E86;&#x8C03;&#x8BD5;&#x3002;</p>
<h3 id="2-defaults">2.<code>defaults</code></h3>
<p><code>$httpProvider.defaults</code> &#x5C5E;&#x6027;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x5F53;&#x91CF;. &#x5141;&#x8BB8;&#x9ED8;&#x8BA4;&#x5934;&#x914D;&#x7F6E;, withCredentials,&#x4EE5;&#x53CA;&#x8BF7;&#x6C42;&#x548C;&#x54CD;&#x5E94;&#x7684;&#x53D8;&#x5316;&#x3002;</p>
<p>&#x8BE6;&#x7EC6;&#x8BF7;&#x770B;&#x4E0A;&#x9762;&#x7684; &quot;&#x8BBE;&#x7F6E; HTTP Headers&quot;, &quot;Transforming Requests and Responses&quot;&#x3002;</p>
<h2 id="%E4%BE%8B%E5%AD%90">&#x4F8B;&#x5B50;</h2>
<blockquote>
<p>index.html</p>
</blockquote>
<pre><code class="lang-html">
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">ng-controller</span>=<span class="hljs-value">&quot;FetchController&quot;</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">select</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">&quot;method&quot;</span> <span class="hljs-attribute">aria-label</span>=<span class="hljs-value">&quot;Request method&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">option</span>&gt;</span>GET<span class="hljs-tag">&lt;/<span class="hljs-title">option</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">option</span>&gt;</span>JSONP<span class="hljs-tag">&lt;/<span class="hljs-title">option</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">select</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">input</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">&quot;text&quot;</span> <span class="hljs-attribute">ng-model</span>=<span class="hljs-value">&quot;url&quot;</span> <span class="hljs-attribute">size</span>=<span class="hljs-value">&quot;80&quot;</span> <span class="hljs-attribute">aria-label</span>=<span class="hljs-value">&quot;URL&quot;</span> /&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">&quot;fetchbtn&quot;</span> <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">&quot;fetch()&quot;</span>&gt;</span>fetch<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">&quot;samplegetbtn&quot;</span> <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">&quot;updateModel(&apos;GET&apos;, &apos;http-hello.html&apos;)&quot;</span>&gt;</span>Sample GET<span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">&quot;samplejsonpbtn&quot;</span>
    <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">&quot;updateModel(&apos;JSONP&apos;,
                  &apos;https://angularjs.org/greet.php?callback=JSON_CALLBACK&amp;name=Super%20Hero&apos;)&quot;</span>&gt;</span>
    Sample JSONP
  <span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">&quot;invalidjsonpbtn&quot;</span>
    <span class="hljs-attribute">ng-click</span>=<span class="hljs-value">&quot;updateModel(&apos;JSONP&apos;, &apos;https://angularjs.org/doesntexist&amp;callback=JSON_CALLBACK&apos;)&quot;</span>&gt;</span>
      Invalid JSONP
    <span class="hljs-tag">&lt;/<span class="hljs-title">button</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">pre</span>&gt;</span>http status code: {{status}}<span class="hljs-tag">&lt;/<span class="hljs-title">pre</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">pre</span>&gt;</span>http response data: {{data}}<span class="hljs-tag">&lt;/<span class="hljs-title">pre</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
</code></pre>
<blockquote>
<p>script.js</p>
</blockquote>
<pre><code class="lang-javascript">
angular.module(<span class="hljs-string">&apos;httpExample&apos;</span>, [])
.controller(<span class="hljs-string">&apos;FetchController&apos;</span>, [<span class="hljs-string">&apos;$scope&apos;</span>, <span class="hljs-string">&apos;$http&apos;</span>, <span class="hljs-string">&apos;$templateCache&apos;</span>,
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">$scope, $http, $templateCache</span>) </span>{
    $scope.method = <span class="hljs-string">&apos;GET&apos;</span>;
    $scope.url = <span class="hljs-string">&apos;http-hello.html&apos;</span>;

    $scope.fetch = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      $scope.code = <span class="hljs-literal">null</span>;
      $scope.response = <span class="hljs-literal">null</span>;

      $http({method: $scope.method, url: $scope.url, cache: $templateCache}).
        success(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data, status</span>) </span>{
          $scope.status = status;
          $scope.data = data;
        }).
        error(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data, status</span>) </span>{
          $scope.data = data || <span class="hljs-string">&quot;Request failed&quot;</span>;
          $scope.status = status;
      });
    };

    $scope.updateModel = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">method, url</span>) </span>{
      $scope.method = method;
      $scope.url = url;
    };
  }]);
</code></pre>
<blockquote>
<p>http-hello.html</p>
</blockquote>
<pre><code class="lang-html">
Hello, $http!
</code></pre>
<blockquote>
<p>protactor.js</p>
</blockquote>
<pre><code class="lang-javascript">
<span class="hljs-keyword">var</span> status = element(by.binding(<span class="hljs-string">&apos;status&apos;</span>));
 <span class="hljs-keyword">var</span> data = element(by.binding(<span class="hljs-string">&apos;data&apos;</span>));
 <span class="hljs-keyword">var</span> fetchBtn = element(by.id(<span class="hljs-string">&apos;fetchbtn&apos;</span>));
 <span class="hljs-keyword">var</span> sampleGetBtn = element(by.id(<span class="hljs-string">&apos;samplegetbtn&apos;</span>));
 <span class="hljs-keyword">var</span> sampleJsonpBtn = element(by.id(<span class="hljs-string">&apos;samplejsonpbtn&apos;</span>));
 <span class="hljs-keyword">var</span> invalidJsonpBtn = element(by.id(<span class="hljs-string">&apos;invalidjsonpbtn&apos;</span>));

 it(<span class="hljs-string">&apos;should make an xhr GET request&apos;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
   sampleGetBtn.click();
   fetchBtn.click();
   expect(status.getText()).toMatch(<span class="hljs-string">&apos;200&apos;</span>);
   expect(data.getText()).toMatch(<span class="hljs-regexp">/Hello, \$http!/</span>);
 });

<span class="hljs-comment">// Commented out due to flakes. See https://github.com/angular/angular.js/issues/9185</span>
<span class="hljs-comment">// it(&apos;should make a JSONP request to angularjs.org&apos;, function() {</span>
<span class="hljs-comment">//   sampleJsonpBtn.click();</span>
<span class="hljs-comment">//   fetchBtn.click();</span>
<span class="hljs-comment">//   expect(status.getText()).toMatch(&apos;200&apos;);</span>
<span class="hljs-comment">//   expect(data.getText()).toMatch(/Super Hero!/);</span>
<span class="hljs-comment">// });</span>

 it(<span class="hljs-string">&apos;should make JSONP request to invalid URL and invoke the error handler&apos;</span>,
     <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
   invalidJsonpBtn.click();
   fetchBtn.click();
   expect(status.getText()).toMatch(<span class="hljs-string">&apos;0&apos;</span>);
   expect(data.getText()).toMatch(<span class="hljs-string">&apos;Request failed&apos;</span>);
 });
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../Services/ng.$controller.html" class="navigation navigation-prev " aria-label="Previous page: ng.$controller"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../Services/ng.$locale.html" class="navigation navigation-next " aria-label="Next page: ng.$locale"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

    
    <script src="../gitbook/plugins/gitbook-plugin-livereload/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
